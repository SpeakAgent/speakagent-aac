<ion-view title="Login" hide-nav-bar="true">
  <ion-content class="has-header">
    <div class="login-container" ng-if="!authToken">
      <h1 ng-if="!authToken">Login</h1>
      <h1 ng-if="authToken">Logout</h1>
      <p>You must login in order to use this app.</p>
      <p class="error" ng-if="loginError">{{loginError}}
        <br>Please doublecheck your username and password.
      </p>
      <form ng-submit="doLogin()">
        <div class="list">
          <label class="item item-input">
            <span class="input-label">Username</span>
            <input type="text" ng-model="loginData.username">
          </label>
          <label class="item item-input">
            <span class="input-label">Password</span>
            <input type="password" ng-model="loginData.password">
          </label>
          <label class="item">
            <button class="button button-block button-positive" type="submit">Log In</button>
          </label>
        </div>
      </form>
    </div>
    <div class="logout-container" ng-if="authToken">
      <h1>Current User: {{username}}</h1>
      <p>Logging out will clear the application cache and your user profile.</p>
      <form ng-submit="doLogout()">
        <label class="item">
          <button ng-disabled="loginData.magicPhrase != 'frodo'" class="button button-block button-assertive" type="submit">Click here to log out.</button>
          &nbsp;
          <input type="password" ng-model="loginData.magicPhrase" placeholder="magic word">
        </label>
      </form>
    </div>
  </ion-content>
</ion-view>

